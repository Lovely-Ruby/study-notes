<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./myAxios.js" type="text/javascript"></script>
    <style>
      .btn {
        width: 200px;
        height: 120px;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <button class="btn" onclick="submit()">点击我请求我自己写的axios</button>
  </body>
  <script>
    console.dir(myaxios);
    myaxios.interceptors.request.use(
      (config) => {
        console.log('请求拦截器1');
        return config;
      },
      (error) => {
        console.log('请求拦截器1');
      }
    );
    myaxios.interceptors.request.use(
      (config) => {
        console.log('请求拦截器2');
        return config;
      },
      (error) => {
        console.log('请求拦截器2');
      }
    );
    myaxios.interceptors.response.use(
      (res) => {
        console.log('响应拦截器1');
        return res;
      },
      (error) => {
        console.log('响应拦截器1');
      }
    );
    myaxios.interceptors.response.use(
      (res) => {
        console.log('响应拦截器2');
        return res;
      },
      (error) => {
        console.log('响应拦截器2');
      }
    );

    function submit() {
      myaxios({
        method: 'post',
        url: '/myaxios_api',
      }).then((res) => {
        console.log('我是post函数式调用:>>', res);
      });
      // myaxios.delete('/myaxios_api').then((res) => {
      //     console.log('我是delete对象式调用:>>', res)
      // })
    }
  </script>
</html>
